<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Easily deploy containerized applications to AWS ECS Fargate"><link href=https://ecsdeployer.com/config/settings/ rel=canonical><link rel=icon href=../../static/images/favicon.ico><meta name=generator content="mkdocs-1.4.2, mkdocs-material-8.5.10"><meta name=generated-date content="2023-04-10 00:29:33.953634+00:00"><meta name=go-import content="ecsdeployer.com/ecsdeployer git https://github.com/ecsdeployer/ecsdeployer"><title>Settings - ECS Deployer</title><link rel=stylesheet href=../../assets/stylesheets/main.975780f9.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.2505c338.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../stylesheets/extras.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-V07ZM4DN4C"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-V07ZM4DN4C",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-V07ZM4DN4C",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=slate data-md-color-primary=light-blue data-md-color-accent=indigo> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#settings class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="ECS Deployer" class="md-header__button md-logo" aria-label="ECS Deployer" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19.35 10.03A7.49 7.49 0 0 0 12 4C9.11 4 6.6 5.64 5.35 8.03A6.004 6.004 0 0 0 0 14a6 6 0 0 0 6 6h13a5 5 0 0 0 5-5c0-2.64-2.05-4.78-4.65-4.97Z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> ECS Deployer </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Settings </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=light-blue data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary data-md-color-accent aria-label="Switch to dark mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/ecsdeployer/ecsdeployer title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> ecsdeployer/ecsdeployer </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="ECS Deployer" class="md-nav__button md-logo" aria-label="ECS Deployer" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19.35 10.03A7.49 7.49 0 0 0 12 4C9.11 4 6.6 5.64 5.35 8.03A6.004 6.004 0 0 0 0 14a6 6 0 0 0 6 6h13a5 5 0 0 0 5-5c0-2.64-2.05-4.78-4.65-4.97Z"/></svg> </a> ECS Deployer </label> <div class=md-nav__source> <a href=https://github.com/ecsdeployer/ecsdeployer title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> ecsdeployer/ecsdeployer </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> Home </a> </li> <li class=md-nav__item> <a href=../../quick_start/ class=md-nav__link> Quick Start </a> </li> <li class=md-nav__item> <a href=../../install/ class=md-nav__link> Install </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 type=checkbox id=__nav_4 checked> <label class=md-nav__link for=__nav_4> Configuration <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Configuration data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Configuration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ class=md-nav__link> About </a> </li> <li class=md-nav__item> <a href=../basic/ class=md-nav__link> Basics </a> </li> <li class=md-nav__item> <a href=../common/ class=md-nav__link> Common Task Options </a> </li> <li class=md-nav__item> <a href=../envvars/ class=md-nav__link> Environment Vars </a> </li> <li class=md-nav__item> <a href=../defaults/ class=md-nav__link> Task Defaults </a> </li> <li class=md-nav__item> <a href=../predeploy/ class=md-nav__link> PreDeploy Tasks </a> </li> <li class=md-nav__item> <a href=../services/ class=md-nav__link> Services </a> </li> <li class=md-nav__item> <a href=../cronjobs/ class=md-nav__link> CronJobs </a> </li> <li class=md-nav__item> <a href=../console/ class=md-nav__link> Remote Shell </a> </li> <li class=md-nav__item> <a href=../network/ class=md-nav__link> Networking </a> </li> <li class=md-nav__item> <a href=../logging/ class=md-nav__link> Logging </a> </li> <li class=md-nav__item> <a href=../volumes/ class=md-nav__link> Volumes </a> </li> <li class=md-nav__item> <a href=../sidecars/ class=md-nav__link> Sidecars </a> </li> <li class=md-nav__item> <a href=../naming/ class=md-nav__link> Naming </a> </li> <li class=md-nav__item> <a href=../tags/ class=md-nav__link> Tags </a> </li> <li class=md-nav__item> <a href=../spot/ class=md-nav__link> Spot Containers </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Settings <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Settings </a> <nav class="md-nav md-nav--secondary" aria-label="On this page"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> On this page </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#example class=md-nav__link> Example </a> </li> <li class=md-nav__item> <a href=#fields class=md-nav__link> Fields </a> </li> <li class=md-nav__item> <a href=#ssm-import class=md-nav__link> SSM Parameter Store Secrets Import </a> </li> <li class=md-nav__item> <a href=#keeping-in-sync class=md-nav__link> Keeping Resources In-Sync </a> </li> <li class=md-nav__item> <a href=#service-stability-waiter class=md-nav__link> Service Stability Waiter </a> </li> <li class=md-nav__item> <a href=#deployment-env-vars class=md-nav__link> Deployment Env Vars </a> </li> <li class=md-nav__item> <a href=#cron-env-vars class=md-nav__link> Cron Env Vars </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../examples/ class=md-nav__link> Example Configs </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle=__nav_5 type=checkbox id=__nav_5 checked> <label class=md-nav__link for=__nav_5> CI/CD <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=CI/CD data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> CI/CD </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../ci/github/ class=md-nav__link> GitHub Actions </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle=__nav_6 type=checkbox id=__nav_6 checked> <label class=md-nav__link for=__nav_6> AWS Setup <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="AWS Setup" data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> AWS Setup </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../aws/iam/ class=md-nav__link> IAM Permissions </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../templating/ class=md-nav__link> Templating </a> </li> <li class=md-nav__item> <a href=../../limitations/ class=md-nav__link> Limitations </a> </li> <li class=md-nav__item> <a href=../../help/ class=md-nav__link> Getting Help </a> </li> <li class=md-nav__item> <a href=../../deprecations/ class=md-nav__link> Deprecations </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle=__nav_11 type=checkbox id=__nav_11 checked> <label class=md-nav__link for=__nav_11> Command Line Usage <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Command Line Usage" data-md-level=1> <label class=md-nav__title for=__nav_11> <span class="md-nav__icon md-icon"></span> Command Line Usage </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../cmd/ecsdeployer/ class=md-nav__link> ecsdeployer </a> </li> <li class=md-nav__item> <a href=../../cmd/ecsdeployer_check/ class=md-nav__link> ecsdeployer check </a> </li> <li class=md-nav__item> <a href=../../cmd/ecsdeployer_clean/ class=md-nav__link> ecsdeployer clean </a> </li> <li class=md-nav__item> <a href=../../cmd/ecsdeployer_deploy/ class=md-nav__link> ecsdeployer deploy </a> </li> <li class=md-nav__item> <a href=../../cmd/ecsdeployer_info/ class=md-nav__link> ecsdeployer info </a> </li> <li class=md-nav__item> <a href=../../cmd/ecsdeployer_jsonschema/ class=md-nav__link> ecsdeployer jsonschema </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="On this page"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> On this page </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#example class=md-nav__link> Example </a> </li> <li class=md-nav__item> <a href=#fields class=md-nav__link> Fields </a> </li> <li class=md-nav__item> <a href=#ssm-import class=md-nav__link> SSM Parameter Store Secrets Import </a> </li> <li class=md-nav__item> <a href=#keeping-in-sync class=md-nav__link> Keeping Resources In-Sync </a> </li> <li class=md-nav__item> <a href=#service-stability-waiter class=md-nav__link> Service Stability Waiter </a> </li> <li class=md-nav__item> <a href=#deployment-env-vars class=md-nav__link> Deployment Env Vars </a> </li> <li class=md-nav__item> <a href=#cron-env-vars class=md-nav__link> Cron Env Vars </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=settings>Settings<a class=headerlink href=#settings title="Permanent link">&para;</a></h1> <p>This allows you to override specific settings used in the deployer. For the most part, you should never need to modify these.</p> <h2 id=example>Example<a class=headerlink href=#example title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code><span class=nt>settings</span><span class=p>:</span>
<span class=w>  </span><span class=nt>predeploy_timeout</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">90m</span>
<span class=w>  </span><span class=nt>skip_deployment_env_vars</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>

<span class=w>  </span><span class=nt>ssm_import</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/path/to/project/secrets</span>
</code></pre></div> <h2 id=fields>Fields<a class=headerlink href=#fields title="Permanent link">&para;</a></h2> <dl> <dt><a href=#settings.ssm_import id=settings.ssm_import><code>ssm_import</code></a></dt> <dd> <p>See <a href=#ssm-import>SSM Parameter Store Secrets Import</a></p> <p><strong>It is highly recommended you enable this!</strong></p> <p><em>Default</em>: disabled (see <a href=#ssm-import>SSM Parameter Store Secrets Import</a> for defaults)</p> </dd> </dl> <dl> <dt><a href=#settings.predeploy_timeout id=settings.predeploy_timeout><code>predeploy_timeout</code></a></dt> <dd> <p>The maximum time that a <a href=../predeploy/ >predeploy task</a> may take to run. This is the default time, and can be overridden on a per-task basis.</p> <p><em>Default</em>: <code>5400</code> (seconds)</p> </dd> <dt><a href=#settings.skip_cron_env_vars id=settings.skip_cron_env_vars><code>skip_cron_env_vars</code></a></dt> <dd> <p>This will prevent the extra environment variables from being added to your cron jobs.</p> <p>For a list of env vars, see <a href=#cron-env-vars>Cron Env Vars</a>.</p> <p><em>Default</em>: <code>false</code></p> </dd> <dt><a href=#settings.skip_deployment_env_vars id=settings.skip_deployment_env_vars><code>skip_deployment_env_vars</code></a></dt> <dd> <p>This will prevent the extra deployment environment variables from being added to your application.</p> <p>These are things like <code>ECSDEPLOYER_IMAGE_TAG</code>, <code>ECSDEPLOYER_PROJECT</code>, etc.</p> <p>For a list of env vars, see <a href=#deployment-env-vars>Deployment Env Vars</a>.</p> <p><em>Default</em>: <code>false</code></p> </dd> <dt><a href=#settings.disable_marker_tag id=settings.disable_marker_tag><code>disable_marker_tag</code></a></dt> <dd> <p>This will disable the creation of the marker tag used by the deployer to track resources it creates.</p> <p>Disabling the marker tag also requires you to set <a href=#settings.keep_in_sync><code>keep_in_sync</code></a> to <code>false</code></p> <p><strong>It's recommended you do not disable this</strong></p> <p><em>Default</em>: <code>false</code> (Marker tag will be used)</p> </dd> <dt><a href=#settings.use_old_cron_eventbus id=settings.use_old_cron_eventbus><code>use_old_cron_eventbus</code></a></dt> <dd> <p>Use the old and deprecated method of creating CronJobs. The new method uses EventBridge Scheduler, which is much better.</p> <p>This option is only really for legacy deployments that still use EventBridge targets/rules. You should not use this.</p> <p><em>Default</em>: <code>false</code> (Will use the newer EventBridge Scheduler)</p> </dd> <dt><a href=#settings.keep_in_sync id=settings.keep_in_sync><code>keep_in_sync</code></a></dt> <dd> <p>See <a href=#keeping-in-sync>Keeping Resources In-Sync</a></p> </dd> <dt><a href=#settings.wait_for_stable id=settings.wait_for_stable><code>wait_for_stable</code></a></dt> <dd> <p>See <a href=#service-stability-waiter>Service Stability Waiter</a></p> </dd> </dl> <hr> <h2 id=ssm-import>SSM Parameter Store Secrets Import<a class=headerlink href=#ssm-import title="Permanent link">&para;</a></h2> <p>By default, this feature is <strong>disabled</strong>, but is highly recommended.</p> <p>It will automatically look for environment variables in a specific path on <a href=https://docs.aws.amazon.com/systems-manager/latest/userguide/systems-manager-parameter-store.html>AWS Parameter Store</a>.</p> <p>It's <strong>highly</strong> recommended that you use SSM Parameter Store to put sensitive values, rather than in plaintext.</p> <div class="tabbed-set tabbed-alternate" data-tabs=1:2><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><input id=__tabbed_1_2 name=__tabbed_1 type=radio><div class=tabbed-labels><label for=__tabbed_1_1>Shorthand Enabling</label><label for=__tabbed_1_2>Advanced Configuration</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nt>settings</span><span class=p>:</span>
<span class=w>  </span><span class=nt>ssm_import</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/path/to/project/parameters</span>
</code></pre></div> <p>This will enable SSM Secrets Importing, and will set the path as provided.</p> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nt>settings</span><span class=p>:</span>
<span class=w>  </span><span class=nt>ssm_import</span><span class=p>:</span>
<span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class=w>    </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/path/to/project/parameters</span>
</code></pre></div> <dl> <dt><a href=#ssm_import.enabled id=ssm_import.enabled><code>enabled</code></a></dt> <dd> <p>Enable importing secrets from SSM Parameter</p> <p><em>Default</em>: <code>false</code></p> </dd> <dt><a href=#ssm_import.path id=ssm_import.path><code>path</code></a></dt> <dd> <p>This is the path prefix that will be searched to automatically add environment variables to your applications. If you do not want SSM Secrets, then set this to a blank string</p> <div class="tabbed-set tabbed-alternate" data-tabs=2:3><input checked=checked id=__tabbed_2_1 name=__tabbed_2 type=radio><input id=__tabbed_2_2 name=__tabbed_2 type=radio><input id=__tabbed_2_3 name=__tabbed_2 type=radio><div class=tabbed-labels><label for=__tabbed_2_1>Default</label><label for=__tabbed_2_2>Default (with Stage)</label><label for=__tabbed_2_3>Raw</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>/ecsdeployer/secrets/{PROJECT}
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>/ecsdeployer/secrets/{PROJECT}/{STAGE}
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>/ecsdeployer/secrets/{{ .Project }}{{ if .Stage }}/{{ .Stage }}{{ end }}
</code></pre></div> </div> </div> </div> </dd> <dt><a href=#ssm_import.recursive id=ssm_import.recursive><code>recursive</code></a></dt> <dd> <p>If you have multiple levels of parameters nested underneath the <a href=#ssm_import.path><code>path</code></a> provided above, then you will want to enable recursive import. If you do not, then some parameters will be ignored.</p> <p><em>Default</em>: <code>true</code></p> </dd> </dl> </div> </div> </div> <hr> <h2 id=keeping-in-sync>Keeping Resources In-Sync<a class=headerlink href=#keeping-in-sync title="Permanent link">&para;</a></h2> <div class="admonition tip"> <p class=admonition-title>Important</p> <p>This feature is reliant upon the <a href=../naming/#naming.marker_tag_key>Marker Tag</a>. If you modify or change the tag or value, then any resources using that tag will be "invisible" to the Deployer.</p> </div> <div class="tabbed-set tabbed-alternate" data-tabs=3:3><input checked=checked id=__tabbed_3_1 name=__tabbed_3 type=radio><input id=__tabbed_3_2 name=__tabbed_3 type=radio><input id=__tabbed_3_3 name=__tabbed_3 type=radio><div class=tabbed-labels><label for=__tabbed_3_1>Enable (default)</label><label for=__tabbed_3_2>Disable (not recommended)</label><label for=__tabbed_3_3>Customize</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nt>settings</span><span class=p>:</span>
<span class=w>  </span><span class=nt>keep_in_sync</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nt>settings</span><span class=p>:</span>
<span class=w>  </span><span class=nt>keep_in_sync</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
</code></pre></div> <div class="admonition warning"> <p class=admonition-title>Warning: Not recommended</p> <p>If you disable this, then <strong>you</strong> are responsible for deleting unused services, cronjobs, task definitions, etc.</p> <p>This means that services that you remove from the environment file will still be running old code after deploy.</p> </div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nt>settings</span><span class=p>:</span>
<span class=w>  </span><span class=nt>keep_in_sync</span><span class=p>:</span>
<span class=w>    </span><span class=nt>services</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class=w>    </span><span class=nt>cronjobs</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class=w>    </span><span class=nt>log_retention</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class=w>    </span><span class=nt>task_definitions</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div> <dl> <dt><a href=#keep_in_sync.services id=keep_in_sync.services><code>services</code></a></dt> <dd> <p>Removes services that no longer appear in the config file</p> </dd> <dt><a href=#keep_in_sync.cronjobs id=keep_in_sync.cronjobs><code>cronjobs</code></a></dt> <dd> <p>Removes cronjobs that no longer appear in the config file</p> </dd> <dt><a href=#keep_in_sync.log_retention id=keep_in_sync.log_retention><code>log_retention</code></a></dt> <dd> <p>Will update existing log groups to have the correct retention setting</p> </dd> <dt><a href=#keep_in_sync.task_definitions id=keep_in_sync.task_definitions><code>task_definitions</code></a></dt> <dd> <p>Deregister any task definitions that point to tasks/services/crons that are no longer listed in the config file.</p> </dd> </dl> </div> </div> </div> <hr> <h2 id=service-stability-waiter>Service Stability Waiter<a class=headerlink href=#service-stability-waiter title="Permanent link">&para;</a></h2> <p>By default, the deployer will wait for your services to become stable according to ECS. If you do not want to wait, or need to customize that behavior, then you can do that here.</p> <div class="admonition example"> <p class=admonition-title>Shorthand to disable waiter (not recommended)</p> <div class=highlight><pre><span></span><code><span class=nt>settings</span><span class=p>:</span>
<span class=w>  </span><span class=nt>wait_for_stable</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
</code></pre></div> </div> <dl> <dt><a href=#wait_for_stable.disabled id=wait_for_stable.disabled><code>disabled</code></a></dt> <dd> <p>Disable the waiter. Deployment will succeed immediately after services have been updated. (Regardless of if they actually work / are not in a crash loop).</p> <p><em>Default</em>: <code>false</code></p> </dd> <dt><a href=#wait_for_stable.timeout id=wait_for_stable.timeout><code>timeout</code></a></dt> <dd> <p>How long should the deployer wait for a service to become stable</p> <p><em>Default</em>: <code>1800</code> (seconds)</p> </dd> </dl> <h2 id=deployment-env-vars>Deployment Env Vars<a class=headerlink href=#deployment-env-vars title="Permanent link">&para;</a></h2> <div class="tbl-nowrap-key tbl-normal-font"> <table> <thead> <tr> <th>Variable Name</th> <th>Template</th> </tr> </thead> <tbody> <tr> <td><code>ECSDEPLOYER_APP_VERSION</code></td> <td><code>{{ .Version }}</code></td> </tr> <tr> <td><code>ECSDEPLOYER_DEPLOYED_AT</code></td> <td><code>{{ .Date }}</code></td> </tr> <tr> <td><code>ECSDEPLOYER_IMAGE_TAG</code></td> <td><code>{{ .ImageTag }}</code></td> </tr> <tr> <td><code>ECSDEPLOYER_PROJECT</code></td> <td><code>{{ .Project }}</code></td> </tr> <tr> <td><code>ECSDEPLOYER_STAGE</code></td> <td><code>{{ .Stage }}</code></td> </tr> <tr> <td><code>ECSDEPLOYER_TASK_NAME</code></td> <td><code>{{ .Name }}</code></td> </tr> </tbody> </table> </div> <div class="admonition note"> <p>Any values that evaluate to a blank string will not be added to your environment.</p> </div> <h2 id=cron-env-vars>Cron Env Vars<a class=headerlink href=#cron-env-vars title="Permanent link">&para;</a></h2> <div class="admonition note"> <p>These are only added to cron jobs. Values are <a href=https://docs.aws.amazon.com/scheduler/latest/UserGuide/managing-schedule-context-attributes.html>EventBridge Scheduler context attributes</a></p> </div> <div class="tbl-nowrap-key tbl-normal-font"> <table> <thead> <tr> <th>Variable Name</th> <th>Template</th> </tr> </thead> <tbody> <tr> <td><code>ECSDEPLOYER_CRON_SCHEDULE_ARN</code></td> <td><code>&lt;aws.scheduler.schedule-arn&gt;</code></td> </tr> <tr> <td><code>ECSDEPLOYER_CRON_SCHEDULED_TIME</code></td> <td><code>&lt;aws.scheduler.scheduled-time&gt;</code></td> </tr> <tr> <td><code>ECSDEPLOYER_CRON_EXECUTION_ID</code></td> <td><code>&lt;aws.scheduler.execution-id&gt;</code></td> </tr> <tr> <td><code>ECSDEPLOYER_CRON_ATTEMPT</code></td> <td><code>&lt;aws.scheduler.attempt-number&gt;</code></td> </tr> </tbody> </table> </div> </article> </div> </div> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../spot/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Spot Containers" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> Spot Containers </div> </div> </a> <a href=../examples/ class="md-footer__link md-footer__link--next" aria-label="Next: Example Configs" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> Example Configs </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2023 Mitch Dempsey </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["search.suggest", "search.highlight", "search.share", "navigation.expand"], "search": "../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script> <script src=../../assets/javascripts/bundle.5a2dcb6a.min.js></script> </body> </html>