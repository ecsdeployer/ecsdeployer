<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Easily deploy containerized applications to AWS ECS Fargate"><link href=https://ecsdeployer.com/config/logging/ rel=canonical><link rel=icon href=../../static/images/favicon.ico><meta name=generator content="mkdocs-1.4.2, mkdocs-material-8.5.10"><meta name=generated-date content="2023-04-10 00:29:33.866020+00:00"><meta name=go-import content="ecsdeployer.com/ecsdeployer git https://github.com/ecsdeployer/ecsdeployer"><title>Logging - ECS Deployer</title><link rel=stylesheet href=../../assets/stylesheets/main.975780f9.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.2505c338.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../stylesheets/extras.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-V07ZM4DN4C"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-V07ZM4DN4C",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-V07ZM4DN4C",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=slate data-md-color-primary=light-blue data-md-color-accent=indigo> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#logging class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="ECS Deployer" class="md-header__button md-logo" aria-label="ECS Deployer" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19.35 10.03A7.49 7.49 0 0 0 12 4C9.11 4 6.6 5.64 5.35 8.03A6.004 6.004 0 0 0 0 14a6 6 0 0 0 6 6h13a5 5 0 0 0 5-5c0-2.64-2.05-4.78-4.65-4.97Z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> ECS Deployer </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Logging </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=light-blue data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary data-md-color-accent aria-label="Switch to dark mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/ecsdeployer/ecsdeployer title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> ecsdeployer/ecsdeployer </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="ECS Deployer" class="md-nav__button md-logo" aria-label="ECS Deployer" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19.35 10.03A7.49 7.49 0 0 0 12 4C9.11 4 6.6 5.64 5.35 8.03A6.004 6.004 0 0 0 0 14a6 6 0 0 0 6 6h13a5 5 0 0 0 5-5c0-2.64-2.05-4.78-4.65-4.97Z"/></svg> </a> ECS Deployer </label> <div class=md-nav__source> <a href=https://github.com/ecsdeployer/ecsdeployer title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> ecsdeployer/ecsdeployer </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> Home </a> </li> <li class=md-nav__item> <a href=../../quick_start/ class=md-nav__link> Quick Start </a> </li> <li class=md-nav__item> <a href=../../install/ class=md-nav__link> Install </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 type=checkbox id=__nav_4 checked> <label class=md-nav__link for=__nav_4> Configuration <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Configuration data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Configuration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ class=md-nav__link> About </a> </li> <li class=md-nav__item> <a href=../basic/ class=md-nav__link> Basics </a> </li> <li class=md-nav__item> <a href=../common/ class=md-nav__link> Common Task Options </a> </li> <li class=md-nav__item> <a href=../envvars/ class=md-nav__link> Environment Vars </a> </li> <li class=md-nav__item> <a href=../defaults/ class=md-nav__link> Task Defaults </a> </li> <li class=md-nav__item> <a href=../predeploy/ class=md-nav__link> PreDeploy Tasks </a> </li> <li class=md-nav__item> <a href=../services/ class=md-nav__link> Services </a> </li> <li class=md-nav__item> <a href=../cronjobs/ class=md-nav__link> CronJobs </a> </li> <li class=md-nav__item> <a href=../console/ class=md-nav__link> Remote Shell </a> </li> <li class=md-nav__item> <a href=../network/ class=md-nav__link> Networking </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Logging <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Logging </a> <nav class="md-nav md-nav--secondary" aria-label="On this page"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> On this page </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#example-usage class=md-nav__link> Example Usage </a> </li> <li class=md-nav__item> <a href=#fields class=md-nav__link> Fields </a> </li> <li class=md-nav__item> <a href=#using-cloudwatch-logs class=md-nav__link> Using CloudWatch Logs </a> <nav class=md-nav aria-label="Using CloudWatch Logs"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fields_1 class=md-nav__link> Fields </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#using-firelens class=md-nav__link> Using FireLens </a> <nav class=md-nav aria-label="Using FireLens"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fields_2 class=md-nav__link> Fields </a> </li> <li class=md-nav__item> <a href=#advanced-fields class=md-nav__link> Advanced Fields </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#using-custom-logging class=md-nav__link> Using Custom Logging </a> <nav class=md-nav aria-label="Using Custom Logging"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fields_3 class=md-nav__link> Fields </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../volumes/ class=md-nav__link> Volumes </a> </li> <li class=md-nav__item> <a href=../sidecars/ class=md-nav__link> Sidecars </a> </li> <li class=md-nav__item> <a href=../naming/ class=md-nav__link> Naming </a> </li> <li class=md-nav__item> <a href=../tags/ class=md-nav__link> Tags </a> </li> <li class=md-nav__item> <a href=../spot/ class=md-nav__link> Spot Containers </a> </li> <li class=md-nav__item> <a href=../settings/ class=md-nav__link> Settings </a> </li> <li class=md-nav__item> <a href=../examples/ class=md-nav__link> Example Configs </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle=__nav_5 type=checkbox id=__nav_5 checked> <label class=md-nav__link for=__nav_5> CI/CD <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=CI/CD data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> CI/CD </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../ci/github/ class=md-nav__link> GitHub Actions </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle=__nav_6 type=checkbox id=__nav_6 checked> <label class=md-nav__link for=__nav_6> AWS Setup <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="AWS Setup" data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> AWS Setup </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../aws/iam/ class=md-nav__link> IAM Permissions </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../templating/ class=md-nav__link> Templating </a> </li> <li class=md-nav__item> <a href=../../limitations/ class=md-nav__link> Limitations </a> </li> <li class=md-nav__item> <a href=../../help/ class=md-nav__link> Getting Help </a> </li> <li class=md-nav__item> <a href=../../deprecations/ class=md-nav__link> Deprecations </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle=__nav_11 type=checkbox id=__nav_11 checked> <label class=md-nav__link for=__nav_11> Command Line Usage <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Command Line Usage" data-md-level=1> <label class=md-nav__title for=__nav_11> <span class="md-nav__icon md-icon"></span> Command Line Usage </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../cmd/ecsdeployer/ class=md-nav__link> ecsdeployer </a> </li> <li class=md-nav__item> <a href=../../cmd/ecsdeployer_check/ class=md-nav__link> ecsdeployer check </a> </li> <li class=md-nav__item> <a href=../../cmd/ecsdeployer_clean/ class=md-nav__link> ecsdeployer clean </a> </li> <li class=md-nav__item> <a href=../../cmd/ecsdeployer_deploy/ class=md-nav__link> ecsdeployer deploy </a> </li> <li class=md-nav__item> <a href=../../cmd/ecsdeployer_info/ class=md-nav__link> ecsdeployer info </a> </li> <li class=md-nav__item> <a href=../../cmd/ecsdeployer_jsonschema/ class=md-nav__link> ecsdeployer jsonschema </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="On this page"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> On this page </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#example-usage class=md-nav__link> Example Usage </a> </li> <li class=md-nav__item> <a href=#fields class=md-nav__link> Fields </a> </li> <li class=md-nav__item> <a href=#using-cloudwatch-logs class=md-nav__link> Using CloudWatch Logs </a> <nav class=md-nav aria-label="Using CloudWatch Logs"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fields_1 class=md-nav__link> Fields </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#using-firelens class=md-nav__link> Using FireLens </a> <nav class=md-nav aria-label="Using FireLens"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fields_2 class=md-nav__link> Fields </a> </li> <li class=md-nav__item> <a href=#advanced-fields class=md-nav__link> Advanced Fields </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#using-custom-logging class=md-nav__link> Using Custom Logging </a> <nav class=md-nav aria-label="Using Custom Logging"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fields_3 class=md-nav__link> Fields </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=logging>Logging<a class=headerlink href=#logging title="Permanent link">&para;</a></h1> <p>Logging for your tasks will be automatically setup based upon your specified configuration.</p> <p>If you do not specify any logging configuration, then CloudWatch logs will be used.</p> <h2 id=example-usage>Example Usage<a class=headerlink href=#example-usage title="Permanent link">&para;</a></h2> <div class="tabbed-set tabbed-alternate" data-tabs=1:3><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><input id=__tabbed_1_2 name=__tabbed_1 type=radio><input id=__tabbed_1_3 name=__tabbed_1 type=radio><div class=tabbed-labels><label for=__tabbed_1_1>Using CloudWatch Logs (default)</label><label for=__tabbed_1_2>Using FireLens</label><label for=__tabbed_1_3>Using Custom Driver</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nt>logging</span><span class=p>:</span>
<span class=w>  </span><span class=nt>awslogs</span><span class=p>:</span>
<span class=w>    </span><span class=nt>retention</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">180</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nt>logging</span><span class=p>:</span>
<span class=w>  </span><span class=nt>firelens</span><span class=p>:</span>
<span class=w>    </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=s>&quot;fluentbit&quot;</span>
<span class=w>    </span><span class=nt>options</span><span class=p>:</span>
<span class=w>      </span><span class=nt>enable-ecs-log-metadata</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class=w>      </span><span class=nt>Name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">thing</span>
<span class=w>      </span><span class=nt>region</span><span class=p>:</span><span class=w> </span><span class=s>&quot;us-east-1&quot;</span>
<span class=w>      </span><span class=nt>delivery_stream</span><span class=p>:</span><span class=w> </span><span class=s>&quot;my-stream&quot;</span>
<span class=w>      </span><span class=nt>log-driver-buffer-limit</span><span class=p>:</span><span class=w> </span><span class=s>&quot;2097152&quot;</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nt>logging</span><span class=p>:</span>
<span class=w>  </span><span class=nt>custom</span><span class=p>:</span>
<span class=w>    </span><span class=nt>driver</span><span class=p>:</span><span class=w> </span><span class=s>&quot;splunk&quot;</span>
<span class=w>    </span><span class=nt>options</span><span class=p>:</span>
<span class=w>      </span><span class=nt>splunk-url</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">http://spunkysplunky.splunkcloud.com:8080/</span>
<span class=w>      </span><span class=nt>splunk-insecureskipverify</span><span class=p>:</span><span class=w> </span><span class=s>&quot;True&quot;</span>
<span class=w>      </span><span class=nt>splunk-token</span><span class=p>:</span>
<span class=w>        </span><span class=nt>ssm</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/secrets/splunktoken</span>
</code></pre></div> </div> </div> </div> <h2 id=fields>Fields<a class=headerlink href=#fields title="Permanent link">&para;</a></h2> <p>You should select <strong>only one</strong> of the following:</p> <dl> <dt><a href=#logging.awslogs id=logging.awslogs><code>awslogs</code></a></dt> <dd> <p>See <a href=#using-cloudwatch-logs>Using CloudWatch Logs</a></p> <p><strong>This is the default if you do not specify a <code>logging</code> block</strong></p> </dd> <dt><a href=#logging.firelens id=logging.firelens><code>firelens</code></a></dt> <dd> <p>See <a href=#using-firelens>Using FireLens</a></p> </dd> <dt><a href=#logging.custom id=logging.custom><code>custom</code></a></dt> <dd> <p>See <a href=#using-custom-logging>Using Custom Logging</a></p> </dd> <dt><a href=#logging.disabled id=logging.disabled><code>disabled</code></a></dt> <dd> <p>Disable all logging</p> <p><em>Default</em>: <code>false</code></p> </dd> </dl> <div class="admonition note"> <p><strong>Note:</strong> If you specify multiple options, then the following order will be used: Custom, Firelens, Awslogs.</p> </div> <hr> <h2 id=using-cloudwatch-logs>Using CloudWatch Logs<a class=headerlink href=#using-cloudwatch-logs title="Permanent link">&para;</a></h2> <div class="admonition note"> <p>Note: When using CloudWatch logs, the deployer will automatically create any missing log groups for you.</p> </div> <h3 id=fields_1>Fields<a class=headerlink href=#fields_1 title="Permanent link">&para;</a></h3> <dl> <dt><a href=#awslogs.retention id=awslogs.retention><code>retention</code></a></dt> <dd> <p>How many days logs should be kept.</p> <p>To keep logs forever, specify <code>forever</code></p> <p>Valid values can be found on the <a href=https://docs.aws.amazon.com/AmazonCloudWatchLogs/latest/APIReference/API_PutRetentionPolicy.html#API_PutRetentionPolicy_RequestSyntax>PutRetentionPolicy</a> documentation.</p> <p><em>Default</em>: <code>180</code> (days)</p> </dd> <dt><a href=#awslogs.options id=awslogs.options><code>options</code></a></dt> <dd> <p>Allows you to specify extra options for the awslogs driver.</p> <p>Note: <code>awslogs-group</code>, <code>awslogs-stream-prefix</code> and <code>awslogs-region</code> are already set for you.</p> <p>Valid options: <a href=https://docs.aws.amazon.com/AmazonECS/latest/developerguide/using_awslogs.html#create_awslogs_logdriver_options>awslogs driver options</a></p> </dd> <dt><a href=#awslogs.disabled id=awslogs.disabled><code>disabled</code></a></dt> <dd> <p>Disable CloudWatch logs.</p> <p><em>Default</em>: <code>false</code></p> </dd> </dl> <p><strong>See Also</strong></p> <ul> <li><a href=../naming/#naming.log_group><code>name_template.log_group</code></a></li> <li><a href=../naming/#naming.log_stream_prefix><code>name_template.log_stream_prefix</code></a></li> <li><a href=https://docs.aws.amazon.com/AmazonECS/latest/developerguide/using_awslogs.html>AWS Documentation on using CloudWatch Logs</a></li> </ul> <hr> <h2 id=using-firelens>Using FireLens<a class=headerlink href=#using-firelens title="Permanent link">&para;</a></h2> <div class="admonition note"> <p>Note: When using firelens, a container dependency will be automatically created for you. Your primary container will depend on the firelens router.</p> </div> <h3 id=fields_2>Fields<a class=headerlink href=#fields_2 title="Permanent link">&para;</a></h3> <dl> <dt><a href=#firelens.retention id=firelens.retention><code>type</code></a></dt> <dd> <p>The FireLens log router flavor you want to use.<br>Possible Options:</p> <ul> <li><code>fluentbit</code> - (preferred, default)</li> <li><code>fluentd</code></li> </ul> <p><em>Default</em>: <code>fluentbit</code></p> </dd> <dt><a href=#firelens.options id=firelens.options><code>options</code></a></dt> <dd> <p>Allows you to specify options to provide for the individual task container log configurations.</p> <p>Options can be specified identically to how <a href=../envvars/ >Environment Variables</a> are specified. Values that reference an SSM Parameter will be added to the <code>SecretOptions</code> field on the container. All others will be added to <code>Options</code>.</p> <p>Unless you are using a custom log router image that has these values already set for you, this field is most likely required.</p> <div class="admonition example"> <p class=admonition-title>Usage example</p> <div class=highlight><pre><span></span><code><span class=nt>logging</span><span class=p>:</span>
<span class=w>  </span><span class=nt>firelens</span><span class=p>:</span>
<span class=w>    </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">fluentbit</span>
<span class=w>    </span><span class=nt>options</span><span class=p>:</span>
<span class=w>      </span><span class=nt>Name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">thing</span>
<span class=w>      </span><span class=nt>region</span><span class=p>:</span><span class=w> </span><span class=s>&quot;us-east-1&quot;</span>
<span class=w>      </span><span class=nt>delivery_stream</span><span class=p>:</span><span class=w> </span><span class=s>&quot;my-stream&quot;</span>
<span class=w>      </span><span class=nt>log-driver-buffer-limit</span><span class=p>:</span><span class=w> </span><span class=s>&quot;2097152&quot;</span>
<span class=w>      </span><span class=nt>whatever</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{</span><span class=nt>template</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>.Date</span><span class=nv> </span><span class=s>}}&quot;</span><span class="p p-Indicator">}</span>
</code></pre></div> </div> </dd> <dt><a href=#firelens.router_options id=firelens.router_options><code>router_options</code></a></dt> <dd> <p>Allows you to specify options that will be passed to the Firelens <strong>router container only</strong>. These are not applied to the task containers.</p> <p>Options can be specified identically to how <a href=../envvars/ >Environment Variables</a> are specified, <strong>but you cannot specify any SSM parameters</strong>.</p> <p>You generally will not need to configure this. This is meant for advanced customization of Firelens.</p> <div class="admonition example"> <p class=admonition-title>Usage example</p> <div class=highlight><pre><span></span><code><span class=nt>logging</span><span class=p>:</span>
<span class=w>  </span><span class=nt>firelens</span><span class=p>:</span>
<span class=w>    </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">fluentbit</span>
<span class=w>    </span><span class=nt>options</span><span class=p>:</span>
<span class=w>      </span><span class=nt>Name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">thing</span>
<span class=w>      </span><span class=nt>region</span><span class=p>:</span><span class=w> </span><span class=s>&quot;us-east-1&quot;</span>
<span class=w>      </span><span class=nt>delivery_stream</span><span class=p>:</span><span class=w> </span><span class=s>&quot;my-stream&quot;</span>
<span class=w>    </span><span class=nt>router_options</span><span class=p>:</span>
<span class=w>      </span><span class=nt>enable-ecs-log-metadata</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div> </div> </dd> <dt><a href=#firelens.memory id=firelens.memory><code>memory</code></a></dt> <dd> <p>Memory <em>reservation</em> for this container.</p> <p>This will be used as the reservation setting for the container within this task. This should generally be low, as this will prevent the logging container from stealing memory from the primary container</p> <p><em>Default</em>: <code>50</code> (megabytes)</p> </dd> </dl> <h3 id=advanced-fields>Advanced Fields<a class=headerlink href=#advanced-fields title="Permanent link">&para;</a></h3> <dl> <dt><a href=#firelens.image id=firelens.image><code>image</code></a></dt> <dd> <p>Override the FireLens router image to use.</p> <p>If you are using <strong>fluentbit</strong>, then this will default to the <a href=https://gallery.ecr.aws/aws-observability/aws-for-fluent-bit>official fluentbit image</a></p> <p>If you are using <strong>fluentd</strong> then you must specify this.</p> <p>See <a href=../basic/#specifying-container-image>Specifying Images</a> for more information.</p> </dd> <dt><a href=#firelens.inherit_env id=firelens.inherit_env><code>inherit_env</code></a></dt> <dd> <p>Should the logging container inherit all the environment variables that were provided to the primary container?</p> <p>Note: if you have many environment variables, you might encounter task size limits.</p> <p><em>Default</em>: <code>false</code></p> </dd> <dt><a href=#firelens.environment id=firelens.environment><code>environment</code></a></dt> <dd> <p>Add extra environment variables that are specific to this container (and will not be shared to the other containers in the task.)</p> <p>For more info, read the <a href=../envvars/ >Environment Variables</a> documentation.</p> </dd> <dt><a href=#firelens.container_name id=firelens.container_name><code>container_name</code></a></dt> <dd> <p>The name of the logging container. Normally you should not be changing this.</p> <p><em>Default</em>: <code>log_router</code></p> </dd> <dt><a href=#firelens.log_to_awslogs id=firelens.log_to_awslogs><code>log_to_awslogs</code></a></dt> <dd> <p>Whether the firelens container itself should log to CloudWatch logs or not. This is helpful if you are debugging issues with your log router, but otherwise is not necessary.</p> <p>This is either:</p> <ul> <li>Boolean <code>false</code> - disable logging to Cloudwatch Logs (default)</li> <li>String (the log group you want to log to) - You are responsible for making this group. (Or allow the <a href=../basic/#root.execution_role><code>execution_role</code></a> to create it)</li> </ul> <p><em>Default</em>: <code>false</code></p> </dd> <dt><a href=#firelens.credentials id=firelens.credentials><code>credentials</code></a></dt> <dd> <p>Optional <a href=../common/#private-registry>private registry</a> credentials</p> </dd> <dt><a href=#firelens.disabled id=firelens.disabled><code>disabled</code></a></dt> <dd> <p>Disable FireLens entirely.</p> <p><em>Default</em>: <code>false</code></p> </dd> </dl> <hr> <h2 id=using-custom-logging>Using Custom Logging<a class=headerlink href=#using-custom-logging title="Permanent link">&para;</a></h2> <h3 id=fields_3>Fields<a class=headerlink href=#fields_3 title="Permanent link">&para;</a></h3> <dl> <dt><a href=#custom.driver id=custom.driver><code>driver</code></a></dt> <dd> <p>The log driver you want to use. (ex: <code>splunk</code>)</p> <p><em>Default</em>: blank (disabled)</p> </dd> <dt><a href=#custom.options id=custom.options><code>options</code></a></dt> <dd> <p>Allows you to specify extra options for the driver. Options are specific to the driver you selected.</p> </dd> </dl> </article> </div> </div> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../network/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Networking" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> Networking </div> </div> </a> <a href=../volumes/ class="md-footer__link md-footer__link--next" aria-label="Next: Volumes" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> Volumes </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2023 Mitch Dempsey </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["search.suggest", "search.highlight", "search.share", "navigation.expand"], "search": "../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script> <script src=../../assets/javascripts/bundle.5a2dcb6a.min.js></script> </body> </html>