project: dummy
image: fake:latest
cluster: fake

role: faketask
execution_role: fakeexec
cron_launcher_role: fakecron

tags:
  - name: testing/ecsd
    value: true


network:
  subnets:
    - subnet-2222222222
  security_groups:
    - sg-11111111111
  public_ip: false

predeploy:
  - name: pd1
    command: "something"
  
  - name: pd2
    command: ["another", "thing"]

console: true

services:
  - name: svc1
    desired: 1
    command: bundle exec puma -C config/puma.rb
    load_balancer:
      target_group: arn:aws:elasticloadbalancing:us-east-1:555555555555:targetgroup/fake/xxxxxxxx
      port: 1234
  
  - name: svc2
    desired: 1

    
cronjobs:
  - name: cron1
    disabled: true
    schedule: "cron(0 9 * * ? *)"
    command: ["bundle", "exec", "rake", "cron:whatever"]
    description: "Whatever: this does stuff"